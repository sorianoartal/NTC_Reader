#pragma once

#include <stdint.h>   // uint32_t, int16_t
#include <stddef.h>   // size_t

/**
 * @brief Single entry in the NTC thermistor lookup table
 */
struct ThermistorEntry {
    uint32_t resistance_x10;         // Resistance in 0.1 Ω (×10), e.g. 100000 = 10000.0 Ω
    int16_t  temperature_x10;        // Temperature in 0.1 °C (×10), e.g. 250 = 25.0°C
};

/** @brief Total number of entries in the NTC LUT */
constexpr size_t NTC_LUT_SIZE = 81;

/**
 * @brief Precomputed Lookup Table for standard 10kΩ NTC thermistor
 *        Model: Beta = 3950 K, R0 = 10kΩ @ 25°C
 *        Range: -40°C to +40°C in 1°C steps
 *        Sorted by **decreasing** resistance (NTC behavior: higher R = lower T)
 *        Generated using Steinhart-Hart approximation or beta formula
 */
static constexpr ThermistorEntry NTC_LUT[NTC_LUT_SIZE] = {
    {4018597, -400},  // -40.0 °C
    {3738102, -390},
    {3479326, -380},
    {3240432, -370},
    {3019752, -360},
    {2815768, -350},
    {2627100, -340},
    {2452489, -330},
    {2290790, -320},
    {2140958, -310},
    {2002039, -300},
    {1873164, -290},
    {1753536, -280},
    {1642428, -270},
    {1539176, -260},
    {1443169, -250},
    {1353851, -240},
    {1270710, -230},
    {1193276, -220},
    {1121120, -210},
    {1053847, -200},
    {991093,  -190},
    {932524,  -180},
    {877834,  -170},
    {826740,  -160},
    {778981,  -150},
    {734319,  -140},
    {692531,  -130},
    {653415,  -120},
    {616781,  -110},
    {582457,  -100},
    {550282,   -90},
    {520106,   -80},
    {491794,   -70},
    {465218,   -60},
    {440260,   -50},
    {416813,   -40},
    {394773,   -30},
    {374049,   -20},
    {354554,   -10},
    {336206,     0},
    {318931,    10},
    {302660,    20},
    {287328,    30},
    {272875,    40},
    {259246,    50},
    {246387,    60},
    {234251,    70},
    {222793,    80},
    {211971,    90},
    {201746,   100},
    {192080,   110},
    {182941,   120},
    {174296,   130},
    {166115,   140},
    {158371,   150},
    {151039,   160},
    {144092,   170},
    {137510,   180},
    {131270,   190},
    {125353,   200},
    {119741,   210},
    {114415,   220},
    {109360,   230},
    {104559,   240},
    {100000,   250},  // Reference point: 10 kΩ @ 25.0°C
    {95668,    260},
    {91551,    270},
    {87636,    280},
    {83913,    290},
    {80371,    300},
    {77001,    310},
    {73793,    320},
    {70738,    330},
    {67828,    340},
    {65055,    350},
    {62413,    360},
    {59894,    370},
    {57492,    380},
    {55201,    390},
    {53015,    400}   // +40.0 °C
};